# Nios II Processor

### Architectures
**CISC**
Complex Instruction Set Computer
- Processors that are easy to program and make efficient use of memory
- Earliest machines were programmed in assembly language and memory was slow and expensive
	- Big programs require a lot of memory \$\$\$\$
**CISC developed to make compiler development simpler**
- Shifts burden of generating machine instructions to the processor
- Ex: Instead of compiler writing long machine instructions to calculate a sqrt

**RISC**
Reduced Instruction Set Computer
- Processor architecture that uses small, highly-optimized set of instructions
RISC Characteristics 
- One cycle execution time
	- RISC processors have a CPI (Clock per instruction executed)
- Pipelining
	- Simultaneous execution of instructions
- Large number of registers
	- Prevent large interactions with memory

| #CheatSheetCPET                                                      |                                                                          |
| -------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| **CISC**                                                             | **RISC**                                                                 |
| Emphasis on hardware<br>‚Ä¢ Software simple                            | Emphasis on software<br>‚Ä¢ Hardware simple                                |
| Includes multi-clock, complex instructions                           | Single-clock, reduced instruction only                                   |
| Memory-to-memory:<br>"LOAD" and "STORE" incorporated in instructions | Register to register:<br>"LOAD" and "STORE" are independent instructions |
| Small code sizes, high cycles per second                             | Low cycles per second, large code sizes                                  |
| Transistors used for storing complex instructions                    | Spends more transistors on memory registers                              |

CISC and RISC processor architecture
- Line between the two is blurring
	- CISC is borrowing good things from RICS
		- Pipeline
	- RISC notes

**Nios II is a RISC processor**
- Soft core design -> Not fixed in silicon
- Soft core allows customizing of processor and peripherals
- 32-Bit RISC processor

![[NIOS Diagram.png]]
- JTAG Debug module is used for Eclipse
- The clicky clicky we do makes connections through the "System Interconnect Fabric"
	- Avalon Interface

ELF (Executable Linkable Format) - where our code is stored

![[NiosIIProcessorArchitecture.png]]
JTAG Is optional
- Primarily due to Security reasons

Typically faster to do things in Hardware #CheatSheetCPET 

### Two types of processor architectures
**Harvard**
- Does not have a shared data bus for instructions
**VonNeumann**
- Has a shared data bust for instructions
![[HarvardVVonNeumann.png]]
VonNeumann is **good for space limited processors**, or when editing own instruction set

**Little Endian** - LSB goes to lowest register - GOOD üëç
Nios II is little endian - all my homies hate big endian

LE Logic Element

The less number of registers that a component has, the faster the module can run. Example...
Nios II Economy has a $f_{max}$ at 200MHz, meanwhile the Nios II Full $f_{max}$ is 185 MHz

You can bypass the cache by setting the MSB to 1 - will not be doing this

## Example Assembly problem from Demo 2

```assembly
	.text
	.equ N, (Aend-Astart)/4 #defines symbol N to hold the number of elements in array
	
	.global main #Says here is main
global:
	movi r4, 0 #move this immediate constant value of 0 into r4
	movi r3, N
	movia r5, Astart #move immediate the address stored in Astart
LOOP: 
	ldw r2, 0(r5) #load r2 with what value at what r5 is pointing to (Astart) of 5
	add r4, r4, r2 #add r4 and r2 store in r4
	addi r5, r5, 4 #add 4 to r5 (length of word is 4)
	subi r3, r3, 1 #subtract 1 from r3 (1 less value in array)
	bne r3, r0, LOOP #r0 is always 0, if r3 and r0 are equal then branch
STOP:
	br STOP
	
	.data
Astart:
	.word 5, 3, -6, 19, 8, 12
	
Aend:
	.end
```